# 小程序UI总体风格

柔和+亲切+引导性

强调小程序总体艺术审美

画风统一为米白色底上面黑色线条



# 用户流程 - 【个人风格报告】功能

【主页】

底栏显示有三个功能 （最左边）第一个是【个人风格报告】，用户第一次使用还没有测出结果时停留在【引导页第一页】，当用户使用过小程序测出过报告，那么就停留在报告页面

第二个功能（中间）是【AI交互聊天框】

第三个功能（最右边）是【单品建议】

【个人风格报告】功能

首先，三个【引导页】，只展示理念，前两页不必设置按钮，通过右划来进入下一页，第三页靠下方有一个“开启”按钮。在每页靠近下方位置通过三个点来展示当前是第1/2/3页，这种经典表示形式

每个引导页的文字居中排布，一行一行的，渐显动画，像诗一样逐行出现，在三秒内完成动画 每页的背景可以用毛玻璃感渐变色，设置得优雅、精致、好看，可以加入其他画面元素让页面尽量美观

【引导页第一页】：

（可以加入适当设计性元素使得画面契合文字内容，由你自行设计）

你知道吗？

你的肤色、发色、瞳色决定了你适合的颜色

你的面部特征也影响了你的气质

其实你是「12季型人」中的一种

季风帮你找到你的专属调色盘…

【引导页第二页】：（可以加入适当设计性元素使得画面契合文字内容，由你自行设计）

同时，你的人格和能量特征决定了你适合的风格

穿上这些衣服，你会感到：

这就是我

衣服与你的能量和谐共振

把你衬得容光焕发

（换行）

季风结合大五人格理论和能量四象限理论

帮你解开你的风格密码

【引导页第三页】：

你的外在特征+内在特质

共同决定了你最适配的穿衣风格

踏上季风之旅

快来解锁你的风格报告吧~

（“开启”按钮，进入测试页第一页）

【测试页第1页】：

你的性别？男/女

你的年龄？有一个轴可以丝滑地滑动 年龄从18到50可以选

你的身高？有一个轴可以丝滑滑动 从150到200cm之间

你的体重？有一个轴可以丝滑滑动 40到150kg

【测试页第2页】 你的手腕血管颜色？

主要绿色/主要蓝紫色

这一步结果录入手腕颜色标签里，后续分析季型

绿色对应肤色冷暖的暖，蓝紫色对应冷。记录下来在下一步调用

【测试页第3页】

有一个上传照片的框，可以让用户选择拍照或者上传照片

写出来“提示”在页面上：请拍一张清晰的正脸照

用户上传完照片显示在照片框里面，立刻调用【GPT-5 图像分析大模型】API来分析照片

prompt我已设计好，如下

```python
输入：
1) 一张正脸自然光照片（无遮挡、无滤镜）；
2) 一行文字：主色调=【冷/暖】。

请仅基于可见证据完成：五维评估 → 12季型映射 → PCCS色调建议。
严格按指定JSON输出，禁止输出颜色名列表、十六进制、解释或过程文字。

【评估维度（先内判，不写入解释）】
- 冷/暖（底色）：已给出。
- 深/浅（value depth）：比较“头发/虹膜”相对“肤色”的明度；发眼显著更深→偏深；三者都浅→偏浅。
- 浓/淡（对比度）：观察发-肤-眼白的明度差；黑白分明→浓；差值不大→淡。
- 柔/锐（轮廓与边缘）：脸部转折是否尖刻、五官边缘是否硬朗、眼白是否强亮；圆润模糊→柔；棱角清晰→锐。
- 饱和度/清透度（chroma）：整体是否像加了灰滤镜（低饱和）或宝石般清透（高饱和）。

【12季型判定准则（内用）】
- 冷轴（夏/冬）  
  - 低对比+低饱和 → 软夏 Soft Summer  
  - 低对比+浅明度 → 浅夏 Light Summer  
  - 纯冷+中对比中低饱和 → 真夏 Cool Summer  
  - 高对比+高饱和 → 亮冬 Bright Winter  
  - 很深+高对比 → 深冬 Deep Winter  
  - 纯冷+高对比 → 真冬 Cool Winter
- 暖轴（春/秋）  
  - 高饱和+明亮 → 亮春 Bright Spring  
  - 浅明度+轻快 → 浅春 Light Spring  
  - 纯暖+中对比 → 真春 Warm Spring  
  - 低饱和+柔和 → 软秋 Soft Autumn  
  - 很深+朴厚 → 深秋 Deep Autumn  
  - 纯暖+中深+浓郁 → 真秋 Warm Autumn

【12季型 → PCCS色调映射（用于产出，仅给代号，不给色名）】
- 亮春：v / s / b / lt（少量 p）
- 浅春：lt / p / b（少量 s）
- 真春：s / b / v（少量 lt）
- 软秋：sf / g / d / llg（基底少量 dp）
- 深秋：dp / dk / dkg / d（点缀 sf）
- 真秋：d / dp / g / sf
- 亮冬：v / s / b（中性底可少量 dk）
- 深冬：dk / dp / s（点缀 v）
- 真冬：s / v / dk
- 浅夏：lt / p / llg（少量 sf）
- 真夏：llg / sf / p / g
- 软夏：sf / g / llg / p / lt（基底克制用 dp/dkg）

【输出格式（严格遵守；只输出此JSON；中文值；不得包含颜色名、解释、十六进制）】
{
  "season_12": "<从['Bright Spring','Light Spring','Warm Spring','Soft Autumn','Deep Autumn','Warm Autumn','Bright Winter','Deep Winter','Cool Winter','Light Summer','Cool Summer','Soft Summer']中任选其一>",
  "axes": {
    "depth": "<'浅' | '中等' | '中等偏深' | '深'>",
    "contrast": "<'低' | '中' | '高'>",
    "edge": "<'柔' | '中性' | '锐'>",
    "temperature": "<'冷' | '中性偏冷' | '中性偏暖' | '暖'>",
    "chroma": "<'低' | '中' | '高'>"
  },
  "pccs_tones": {
    "primary": ["<主推PCCS代号，如'sf','g','llg'>"],
    "secondary": ["<次级代号，如'p','lt','b'等>"],
    "base_deep_neutrals": ["<可用基底深色代号，如'dp','dkg','dk'>"],
    "avoid": ["<需避免的代号，如'v','s','b','dk'>"]
  }
}

【其他约束】
- 仅输出一次JSON，不加任何多余文字或换行说明。
- 若输入主色调给定，则以其为最高优先级；否则按照片相对关系自判。
- 若证据冲突，优先保证“季型-色调映射”一致性（宁可收紧到更保守的色调集合）。
```

【测试页第4页】

你最喜欢的颜色？（多选）

红/橙/黄/绿/蓝/紫/黑/白/灰 每一个选项给出一个对应的色块来视觉化

选择结果录入用户档案：喜欢的颜色

【测试页第5页】

你平时的常须穿搭的场合？（多选）

- 通勤工作
- 运动健身
- 玩乐聚会
- 日常通用
- 周末休闲
- 海滩度假

录入用户档案，occasions字段work/ workout/ party/ everyday/ weekend/ beachwear

【测试页第6页】

你有多了解自己的风格？

- 几乎不了解 但我迫不及待想要找到风格
- 我了解自己的肤色适合什么颜色衣服
- 我了解自己身材适合什么版型
- 我很了解自己的风格

原话录入用户档案，记作风格认知程度（尚未翻译成json）

【测试页第7页】

你对自己过去的购物经历中大多数时候满意吗？

- 非常满意，我买衣服很准
- 比较满意，我退换少量衣服
- 不太满意，我经常退换或者闲置衣服
- 很不满意，甚至在穿搭上有点失去信心

原话录入用户档案，记作购物经历态度（尚未翻译成json）

### 【测试页第8页】

从这一页开始为心理测试部分，第8-16页总共9个问题，用来区分出4类人。每个问题的四个选项分别对应4类人，记作ABCD，用户在这四类人上的近似度得分分别记作abcd，初始值a=b=c=d=0，经过每个选项，某个变量进行的增加如下规则。

（这样保证了我后续想要优化心理学测试，只用改问题和选项即可，对应的规则和加和方式不变）

### **当你的日程被排得很满时，你通常会：**

- **A.** 增添一些有趣的元素，让任务保持新鲜和有活力 a++
- **B.** 预留缓冲时间，轻松地处理每一步，避免紧张 b++
- **C.** 加快速度，更快推进，把任务迅速完成c++
- **D.** 去除非必要的部分，锁定重点，稳步前进d++

### **【测试页第9页】当通勤时间意外延长时，你最可能会：**

- **A.** 换一条新路线，并享受这种不同的体验a++
- **B.** 平静地调整心态，让旅程变得舒适放松b++
- **C.** 寻找最快的替代路线，并有目的地赶路c++
- **D.** 坚持走一条直接、可靠的路线，即使更长，以保持一致性d++

### **【测试页第10页】你的周末计划突然取消了，你最可能会：**

- **A.** 尝试一些新鲜或即兴的活动a++
- **B.** 享受空闲时光，放松下来，顺其自然b++
- **C.** 迅速安排其他活动，保持节奏不断c++
- **D.** 用来进行深思或长期规划d++

### 【测试页第11页】**当你进入一个新的社交群体时，你通常会：**

- **A.** 带来轻松氛围，让谈话自然展开a++
- **B.** 注意他人的舒适度，并以细腻方式建立联系b++
- **C.** 主动提出行动方案，引导方向c++
- **D.** 先观察，再谨慎地发表有分量的意见d++

### **【测试页第12页】如果有人给你模糊的指示，你通常会：**

- **A.** 以尝试的心态动手，看看什么能行得通a++
- **B.** 温和地提出澄清问题，在明确后再开始b++
- **C.** 先推动起来，边做边定义细节c++
- **D.** 坚持要求明确范围，只有方向清晰才开始行动d++

### **【测试页第13页】当朋友因挫折而情绪低落时，你通常会：**

- **A.** 用轻松活泼的方式让他们振作起来a++
- **B.** 提供平静的陪伴，让他们感到舒适b++
- **C.** 给他们一个快速前进的计划，激励他们行动c++
- **D.** 提供真诚、深思熟虑并带有分量的建议d++

### **【测试页第14页】哪种环境最让你感到自然？**

- **A.** 明亮、动态、不断变化的空间a++
- **B.** 柔和、圆润、流动的环境b++
- **C.** 干脆、充满能量、带有锋利边角的场所c++
- **D.** 干净、简约、线条笔直的空间d++

### **【测试页第15页】你行动的方式最接近于：**

- **A.** 轻快、有弹性、带着玩味a++
- **B.** 顺畅、流动、优雅自如b++
- **C.** 迅速、干脆、目标明确c++
- **D.** 稳定、笔直、谨慎而有条理d++

### 【测试页第16页】你的MBTI？

紧凑地按照一行四列、总共4行的方式给出选项，最底下与一个“不确定选项”。保持页面美观

ENFJ (b+=2, c+=2 d+=1)

ENFP (a+=2)

INFJ (b+=2, c+=1)

INFP (b+=2)

ENTJ (c+=2)

ENTP (a+=1)

INTJ (c+=1, d+=1)

INTP (b+=1, d+=1)

ESFJ (a+=1, b+=1, c+=1)

ISFJ (b+=1, c+=1)

ESTJ (c+=2, d+=1)

ISTJ (c+=1, d+=2)

ESFP (a+=2)

ISFP (b+=2)

ESTP (a+=1)

ISTP (b+=1, d+=1)

【报告生成页面】

显示“报告生成中…”

界面动效：有非常漂亮的毛玻璃上面渐变色光影在随性移动/转动，和三个引导页的设计风格相呼应

逐行渐显字段，像诗一样（20秒显现完毕即可）：你的答案/季风已经听到/现在/你将会看到/藏在你风格密码中的/衣服颜色/材质/风格

与此同时，对abcd进行从高到低排序，取前两名，比如说是b（最高）和c（次高）

那么调用一个typeToPromptMap{

a: 用户是一个轻快、愉悦而俏皮，展现出高度的律动感，高能量的人，适合的衣服具有这些特征：

1. 量感轻
2. 自由流动，带有随机元素和印花，营造出一种趣味感
3. 细节设计带有可爱感，比如纽扣、蝴蝶结或荷叶边
4. 搭配组合必须带有新鲜感，包含新的单品与搭配方式，不以同样的方式重复穿着
5. 点缀的亮色
6. 色彩基调：明亮轻盈，带有白色底调

b: 用户是这样的人：性格沉稳柔和，圆润不锋利，举止安定，从容，表达方式细腻含蓄，处理事务更注重耐心与时间。适合的衣服具有这些特征：

1. 柔软的面料，类似睡衣的质感
2. 圆润且柔和的细节
3. 宽松飘逸的版型
4. 水彩般的图案或印花
5. 整体柔和、含蓄且低调
6. 色彩基调：低对比度，带灰色底调

c: 用户是一个这样的人：基调带有棱角，举止充满动感与突兀感，行动上向前推进，带有强烈的力量感，是典型的实干者。适合的衣服具有这些特征：

1. 较厚重、有质感的面料
2. 带有原始感、不完美处理的质地
3. 厚实且极具实用性
4. 前卫的细节，造型和轮廓带有棱角与尖点
5. 色彩基调：浓郁，带棕色底调

d: 用户是这样的人：静止、平直而笔直，能量专注、稳定而直接，行事谨慎、善于分析，举止间带有不容忽视的沉稳气场。

1. 合身且有结构感的廓形
2. 大胆的色块与高对比度的配色组合
3. 干净、简洁的线条
4. 鲜明独特
5. 精致得体
6. 色彩基调：饱和、纯正的色相

}

还有一个pairToNameMap{

（一对字母，比如ab，表示a是得分最高，b是得分次高的要素）

ab：活跃舒展型

ac：活跃激进型

ad：活跃笃定型

ba：舒展活跃型

bc：自洽自律型

bd：自洽笃定型

ca：能量锋利型

cb：自律自洽型

cd：锋利笃定型

da：动静自如型

db：笃定自洽型

dc：笃定锐利型

}

用GPT-5，提示词示意如下:

（输入：性别，喜欢的颜色们，前面得到的12季色彩分析结果+适合颜色描述，最高b和次高c map到的prompt，场合们）

~~~python
你是专业的造型师和风格指导师。请你根据以下规则，为一位希望找到个人风格、前来咨询的{gender}用户提供专业、系统、可靠的建议。输出必须符合结构化要求，并严格按照给定格式生成。

---

1. 色彩部分

用户的季型是：{seasonType} 
此季型适合的颜色特征：{suitableColorGroup}。  
用户个人偏好颜色：{colorPreference}。

请以季型适合的颜色为主导，以用户偏好为辅助，生成 **12 种推荐颜色**。  
要求每种颜色包含：美化后的颜色名称（避免“浅绿”“深红”等生硬表达）和对应的 Hex 值。

- 原则1：优先推荐兼顾季型与用户偏好的颜色。例如：如果用户适合浅灰色系+浅色系，而用户喜欢蓝、绿、紫，则推荐“天空蓝”“鼠尾草绿”“薰衣草紫”。其余推荐应为季型适合但用户未必偏好的颜色，如“雾粉”“灰黄”。  
- 原则2：颜色命名需优雅且准确，如“勃艮第红”“鼠尾草绿”，保持美感与专业性。  
- 原则3：黑/白/灰类颜色若不适合季型，不应直接推荐；但可通过调整使其符合季型特征，例如：黑→深灰、白→米白、灰→灰褐，再作为推荐。

---

2. 材质部分

用户的气质特点有两类：  

首要特征：  
{（尚未命名，待替换）abcd中排名最高的map到prompt上}

第二特征： 
{（尚未命名，待替换）abcd中排名次高的map到prompt上} 

【任务要求】：  
结合用户的首要+第二气质特征，从以下材质库中筛选出 **6-8 种适合材质**，并覆盖春夏秋冬不同季节，既包含轻薄面料也包含厚重面料。输出时，每个材质需包含字段：`name`（材质名称）+ `why`（推荐理由，1-2 句话，解释其与用户气质和使用场景的契合点）。  

【材质库】：纯棉（府绸、卡其、哔叽、牛仔布、灯芯绒、罗纹布、珠地布、毛巾布、抓绒）、麻（亚麻布）、真丝、莫代尔、锦纶、人丝、竹纤维、醋酸、莱赛尔、涤纶、腈纶、人棉、氨纶、粘纤、山羊绒、马海毛、精纺毛织物、粗纺毛织物、长毛绒、缎、棉麻混纺、涤麻混纺、羊毛、皮革（羊皮、牛皮等）

【材质和气质/能量类型对应参考】：

以下材质库包含每种材质的特征分类、常见用途和适合季节，请结合用户气质特征进行匹配：

**轻流动特质材质**：
- 真丝（Silk）：轻流动/柔软圆润，丝衬衫、连衣裙、丝巾，春夏
- 亚麻布（Linen）：轻流动/挺阔结构感，夏季衬衫、裙装，夏
- 人丝（Rayon/Viscose）：轻流动/柔软圆润，连衣裙、衬衫，春夏
- 醋酸（Acetate）：柔软圆润/轻流动，衬里、连衣裙、衬衫，春夏
- 莱赛尔（Lyocell/Tencel）：柔软圆润/轻流动，裙装、衬衫、裤装，春夏秋
- 人棉（Viscose Rayon）：轻流动/柔软圆润，裙装、衬衫、裤装，春夏
- 粘纤（Viscose）：轻流动/柔软圆润，连衣裙、衬衫，春夏
- 缎（Satin）：轻流动/柔软圆润，礼服、裙装、衬衫，春夏
- 棉麻混纺：柔软圆润/轻流动，夏季衬衫、裙装，春夏
- 涤麻混纺：挺阔结构感/轻流动，西装套装、衬衫，春秋
- 锦纶（Nylon）：挺阔结构感/轻流动，风衣、泳衣、运动装，春夏秋
- 羽绒（Down）：轻流动/厚重质感，羽绒服、棉被，冬

**柔软圆润特质材质**：
- 莫代尔（Modal）：柔软圆润/轻流动，内衣、T恤、家居服，春夏
- 竹纤维（Bamboo Fiber）：柔软圆润/轻流动，内衣、T恤、家居服，夏
- 罗纹布（Rib Knit）：柔软圆润/合身结构感，T恤、针织衫、打底，四季
- 毛巾布（Terry Cloth）：柔软圆润，运动服、卫衣、家居服，春夏
- 山羊绒（Cashmere）：柔软圆润/厚重质感，高档毛衣、大衣，秋冬
- 氨纶（Spandex/Elastane）：合身结构感/柔软圆润，紧身裤、瑜伽服、泳衣，四季（贴身类）

**挺阔结构感特质材质**：
- 府绸（Cotton Poplin）：挺阔结构感/柔软圆润，衬衫、连衣裙，春夏
- 珠地布（Piqué）：挺阔结构感/柔软圆润，Polo衫，春夏
- 涤纶（Polyester）：挺阔结构感/柔软圆润，衬衫、运动服、西装，四季
- 卡其布（Cotton Twill）：挺阔结构感/厚重质感，工装裤、外套，春秋
- 哔叽（Serge）：挺阔结构感/厚重质感，制服、西装裤，秋冬
- 精纺毛织物（Worsted Wool）：挺阔结构感/厚重质感，西装、正装裤，秋冬
- 牛仔布（Denim）：厚重质感/挺阔结构感，牛仔裤、夹克、裙装，四季（尤春秋）
- 皮革（羊皮、牛皮等）：厚重质感/挺阔结构感，皮夹克、皮裤、鞋包，秋冬

**厚重质感特质材质**：
- 灯芯绒（Corduroy）：厚重质感/柔软圆润，裤装、外套、裙装，秋冬
- 抓绒（Fleece）：厚重质感/柔软圆润，卫衣、运动外套，秋冬
- 腈纶（Acrylic）：厚重质感/柔软圆润，针织衫、毛衣、围巾，秋冬
- 马海毛（Mohair）：厚重质感/柔软圆润，毛衣、大衣，秋冬
- 粗纺毛织物（Woolen）：厚重质感/柔软圆润，大衣、呢料外套，秋冬
- 长毛绒（Faux Fur/羊羔毛）：厚重质感/柔软圆润，外套、夹克，秋冬
- 羊毛（Wool）：厚重质感/柔软圆润，毛衣、大衣、针织品，秋冬


---

3. 风格部分

结合用户气质，从以下风格库中推荐 **4-6 种风格**，要求符合用户适合的配色与用户性格气质。  

【风格库】：简约基础、街头潮流、名媛淑女、摩登复古、日系、韩系、时髦前卫、甜美少女、自然文艺、乡村巴恩风、迪木尔风、霓彩风、莫瑞系、静奢老钱风、无性别廓形、可露丽风、美拉德风、都市游牧风、末日废土风、机车工装风、多巴胺风、Y2K千禧风、新中式、常春藤学院风、Clean Fit、Blokecore、City Walk 风、假日南法风、松弛文艺、千金玛德琳、牛仔丹宁风、都市运动风、大女人风、新复古潮流、高智感穿搭、美式复古、英伦风、波西米亚、民族风、巴洛克、未来主义、极简主义、解构主义、嘻哈风、朋克风、甜酷风、嬉皮风

---

4. 分场合推荐

用户所需场合为：{occasions} 
（注意：**仅输出用户指定的场合**，不要输出未指定场合的推荐。例如，若用户未提及海滩度假，则不应生成海滩度假的搭配。）  

【任务要求】：  
为每个场合提供 2-3 套穿搭推荐。  
每套包含：上衣、裤子/裙子、鞋、配饰。描述需具体实用，整体搭配符合柔夏气质与审美要求。  
在场合推荐部分，只需描述颜色名称，不再使用 Hex 值。  

【场合注意点】：  
- 通勤工作：正式合规、低调稳重，避免过度跳脱；若有个性，体现于细节设计。  
- 日常通用：简洁实穿，强调可重复性。  
- 周末休闲：轻松但精致，避免过于华丽。  
- 聚会玩乐：可展现个人魅力，适度点缀亮点。  
- 运动健身：舒适与功能优先，同时保持时髦感（如 Lululemon、alo 等风格）。  

---

5. 输出格式（必须严格遵守）

```json
{
  "季型名称": "",
  "适合颜色的简短描述": "",
  "能量类型名称": "",
  "能量匹配的风格简短描述": "",
  "推荐的颜色列表": [
    { "name": "", "hex": "" }
    ...
    共12条
  ],
  "推荐的材质列表（按季节）": {
    "春": [
      { "name": "", "why": "" }
    ],
    "夏": [
      { "name": "", "why": "" }
    ],
    "秋": [
      { "name": "", "why": "" }
    ],
    "冬": [
      { "name": "", "why": "" }
    ]
  },
  "推荐的风格列表": ["", "", ""],
  "场合推荐": [
    {
      "name": "",
      "notes": "",
      "outfits": [
        {
          "top": "",
          "bottom": "",
          "shoes": "",
          "accessories": ""
        }
      ]
    }
  ]
}
~~~

【个人风格报告】页面（也是第一个功能的最终页面）

如果此页面一页无法显示全，可以滚动下滑翻到去全部。在页底应有一个保存为图片的功能，并可以分享。

最顶上应该呈现出结果，12季型几个大字，比如“暖春型”，然后旁边也呈现出能量类型但是字号小一点，比如“动静自如型”。

然后在它们下方显示适合颜色的简短描述，以及能量匹配风格的简短描述。

再下面是四个模块：【推荐颜色】【推荐材质】【推荐风格】【场合穿搭】，把上一步大模型得到的输出渲染到前端相应模块。把UI设计得美观漂亮。

推荐颜色包括12个色块，根据Hex值渲染出来的，以及每个色块下面的色名。

推荐材质文字描述即可，按照上一步输出。

推荐风格文字描述即可，按照上一步输出。

场合穿搭是场合+推荐穿搭格式，由于有多个场合，所以希望渲染得好看，UI合理设计排布。

此时应该在用户本地存下来一个【用户档案】记忆库，包括了如下方面： 【个人风格报告】中的全部结果，也就是上一步大模型输出的全部内容。包括季型，季型适配的色调，能量类型，能量适配的风格，适合的颜色，适合的材质，适合的风格，用户需要的场合；基本信息包括性别，年龄，身高，体重；习惯信息包括有多了解自己的个人风格，对过去购物经历的态度。以上字段。同时留出来一个string类型的可扩展空间，用于开发后续AI对话功能之后留存用户记忆，并不断动态更新记忆。

**在页面最底部添加"重新测试"按钮**，点击后清除当前报告数据，重新进入测试页第1页，让用户可以重新进行完整的风格测试。重新测试完成后，用户档案会被新的测试结果完全覆盖更新。

# 用户档案存储

## 文字版

性别

年龄

身高

体重

得到 12季色彩分析季型

关于此季型匹配衣服的简单描述

喜欢的颜色：多个string字段 列表

平时穿搭场合

风格认知程度

购物经历态度

风格报告的其他所有内容

自由字段，来自于大模型对话框里动态添加

## JSON版（完整schema）

```json
{
  // 基本信息
  "basic_info": {
    "gender": "female", // "male" | "female"
    "age": 25,
    "height": 165, // cm
    "weight": 55, // kg
    "wrist_color": "warm", // "warm" | "cool"
    "created_at": "2024-01-15T10:30:00Z",
    "updated_at": "2024-01-15T10:30:00Z"
  },

  // 色彩分析结果（来自GPT-5图像分析）
  "color_analysis": {
    "season_12": "Cool Summer", // 12季型
    "axes": {
      "depth": "浅", // "浅" | "中等" | "中等偏深" | "深"
      "contrast": "低", // "低" | "中" | "高"
      "edge": "柔", // "柔" | "中性" | "锐"
      "temperature": "冷", // "冷" | "中性偏冷" | "中性偏暖" | "暖"
      "chroma": "低" // "低" | "中" | "高"
    },
    "pccs_tones": {
      "primary": ["sf", "g", "llg"],
      "secondary": ["p", "lt"],
      "base_deep_neutrals": ["dp", "dkg"],
      "avoid": ["v", "s", "b"]
    }
  },

  // 心理测试结果
  "personality_test": {
    "scores": {
      "a": 3, // 轻快愉悦型得分
      "b": 8, // 沉稳柔和型得分
      "c": 2, // 棱角力量型得分
      "d": 5  // 静止笔直型得分
    },
    "energy_type": "自洽自律型", // 来自pairToNameMap，如"bc"对应
    "mbti": "ISFP" // 用户选择的MBTI类型
  },

  // 用户偏好
  "preferences": {
    "favorite_colors": ["蓝", "绿", "白"], // 用户选择的喜欢颜色
    "occasions": ["work", "everyday", "weekend"], // 场合需求
    "style_awareness": "我了解自己的肤色适合什么颜色衣服", // 风格认知程度原话
    "shopping_satisfaction": "比较满意，我退换少量衣服" // 购物经历态度原话
  },

  // 风格报告结果（来自GPT-5生成）
  "style_report": {
    "season_name": "冷夏型",
    "season_description": "适合低对比度、带灰色底调的柔和色彩",
    "energy_type_name": "自洽自律型",
    "energy_description": "沉稳优雅，适合柔软飘逸的风格",
    "recommended_colors": [
      {
        "name": "雾霾蓝",
        "hex": "#8BB8C7"
      },
      {
        "name": "鼠尾草绿",
        "hex": "#9CAF88"
      }
      // ... 共12个颜色
    ],
    "recommended_materials": {
      "春": [
        {
          "name": "莫代尔",
          "why": "轻薄透气，触感柔软，符合柔和气质"
        }
      ],
      "夏": [
        {
          "name": "亚麻布",
          "why": "自然质朴，透气舒适，展现随性优雅"
        }
      ],
      "秋": [
        {
          "name": "羊绒",
          "why": "柔软温暖，质感高级，彰显低调奢华"
        }
      ],
      "冬": [
        {
          "name": "精纺毛织物",
          "why": "保暖舒适，版型挺括，适合正式场合"
        }
      ]
    },
    "recommended_styles": ["静奢老钱风", "松弛文艺", "日系", "自然文艺"],
    "occasion_outfits": [
      {
        "name": "通勤工作",
        "notes": "正式合规、低调稳重",
        "outfits": [
          {
            "top": "雾霾蓝衬衫",
            "bottom": "灰色西装裤",
            "shoes": "黑色低跟鞋",
            "accessories": "简约珍珠耳钉"
          }
        ]
      }
      // ... 其他场合
    ]
  },

  // AI对话记忆（动态更新）
  "conversation_memory": {
    "natural_language_memory": "【穿搭偏好】：不喜欢条纹衬衫，偏爱简约风格\n【颜色偏好】：特别喜欢蓝色系，不太喜欢过于鲜艳的颜色\n【场合需求】：经常需要通勤穿搭，偶尔参加艺术展", // 字数上限500字
    "conversation_history": [
      {
        "role": "user",
        "content": "推荐一套适合10–20°C的通勤穿搭",
        "timestamp": "2024-01-15T14:30:00Z"
      },
      {
        "role": "assistant", 
        "content": "根据您的冷夏型特质，推荐...",
        "timestamp": "2024-01-15T14:30:05Z"
      }
      // ... 最多保存20条对话
    ]
  },

  // 版本控制
  "version": "1.0",
  "test_count": 1 // 记录用户测试次数
}
```

### 字段命名约定：
- 使用下划线命名法保持一致性
- 所有时间戳使用ISO 8601格式
- 布尔值和枚举值明确定义
- 保持与前端组件的字段名称一致性



# 用户流程 - 【AI对话】功能

界面设计：就是一个类似于chatgpt这样的对话框，只不过画风需要设计得美观

初始界面需要有一组推荐问题（固定不变）：显示在上面
	1. 推荐一套适合10–20°C的通勤穿搭
	2. 推荐3套去上海街区逛街潮流穿搭
	3. 推荐一套适合去看艺术展的气质穿搭
	4. 我不喜欢条纹衬衫，请不要给我推荐
	5. 你记住了关于我的什么？
  6. 我适合金饰还是银饰？
  7. 我穿什么样的蓝色好看？
  8. 我是否适合美拉德风格？

  当用户点击这些问题的时候，作为现成的问题输入给大模型
  当然用户也可以自己在对话框里面打字输入问题
  以上两种方法问出的问题记为【用户问题】

用GPT5作为大模型回答问题，prompt be like：{
（首先导入用户档案）
gender: female
seasonType: cool summer
... （标记方式不精确，仅作为示意）
用户问题：【用户问题】
请根据用户的个人风格报告和一切档案信息，对用户的问题做出回答。
规则：
1. （硬性规则！）判断用户问题是否与“穿搭”或者“时尚”有关，如果无关，请回复“你的问题似乎非穿搭问题呢，很抱歉阿季帮不了你:("
2. 字数不超过200字。当问题不复杂时，可以简短回答。
3. 输出的答案（穿搭推荐/单品建议/品牌推荐等）要符合审美，要具体。
4. 如果用户的回答中出现偏好性/态度性观点，请提取浓缩信息，作为记忆，存储到用户档案里的"自然语言记忆"部分，要有条理，清晰明白，让大模型下次调用用户档案的时候易读易懂。
5. 用户档案"自然语言记忆"部分字数上限500字。当达到500字上限时，采用滑动窗口机制：删除最早添加的记忆内容，保留最新的记忆，确保记忆总长度不超过500字。这样保证了系统的简洁性和可靠性。
6. 当用户问到”你记住了关于我的什么“、”你对我的记忆包含哪些内容“类似的问题，请把你的用户档案整理成清晰的条目输出出来，可以超过200字，这是一个特例。
}

对话框储存最近20条对话，用户问的+AI回复的总共加起来20条，超过了就把最早的自动清除。

# 用户流程 - 【单品建议】

用户流程：
有一个上传照片的框，用户可以拍照（如果他在线下商场里面买衣服），也可以上传图片（网购的时候上传一件衣服图片）。
在上传照片框的下方也有20张我预设好的衣服照片，用户点击照片也可以直接上传这些我提供好的照片。
上传照片之后立刻调用api，有两层：

**在上传照片框旁边添加提示文字**："请拍摄或上传一件衣物照片，季风将判断是否适合你"
第一层使用gpt5，提取图片信息为格式如下
prompt：
请判断图中物体，如果不是衣服，请直接输出“图片非衣物，请重新上传”，跳过以下所有步骤，break.
如果图中是一件衣物（可能是上衣、下装、鞋、配饰等），请你仔细分析，提取出如下信息，按照如下json格式输出。
如果图中有多件衣物，取最主要的占据面积最大的那件来进行同样分析。
```json
{
  "category": "",            // 大类，如 "Jacket", "Trousers", "Sneakers", "Handbag", "Necklace"
  "sub_category": "",        // 子类，如 "Shearling Jacket", "Wide-leg Pants", "Crossbody Bag"
  "gender": "",              // 目标性别：Women / Men / Unisex
  "fit_shape": "",           // 版型或造型：Oversized / Slim / A-line / Rectangular
  "material": {
    "main": "",              // 主材质
    "lining": "",            // 内衬（如适用）
    "trim": "",              // 辅料/拼接
    "hardware": ""           // 五金（适用于包/鞋/配饰）
  },
  "details": {
    "structure": "",         // 结构：有无支撑骨架、硬挺/柔软、层次
    "closure": "",           // 开合方式：拉链/纽扣/磁扣/套穿
    "strap_handle": "",      // 包/鞋专用：肩带、手柄、鞋带、魔术贴
    "length": "",            // 衣长/裤长/裙长/鞋帮高度
    "silhouette": "",        // 轮廓：直筒、喇叭、圆头、尖头
    "pockets": "",           // 口袋（如适用）
    "ornament": "",          // 装饰：刺绣、铆钉、印花、金属件
    "other": ""              // 其他显著特征
  },
  "color": {
    "main": "",              // 主色
    "contrast": "",          // 拼色/辅助色
    "pattern": ""            // 图案：Solid / Striped / Plaid / Floral
  },
  "style": "",               // 风格：Minimalism / Streetwear / Retro / Elegant
  "occasions": [             // 使用场景
    "Casual", "Formal", "Outdoor"
  ],
  "season": "",              // 适用季节：Spring/Summer/Autumn/Winter
  "pairing": [               // 搭配建议
    ""
  ]
}
这一层输出结果喂给第二层大模型，目前也定为chatgpt5.
prompt be like：
用户的档案如下：
调用style_report
用户上传的单品如下：
【上述第一层传过来的单品信息标签】
请判断此衣服是否适合此用户。
输出结构
```json
{
  "overall_evaluation": {
    "conclusion": "整体不适合。深棕色皮革西装在色彩、材质和风格上均与冷夏型、自洽自律型特征冲突。",
    "suitability_score": 1
  },
  "analysis": {
    "color": {
      "clothing_color": "深棕色（Dark Brown）",
      "person_season": "冷夏型",
      "fit": "不适合",
      "reason": "冷夏型需要冷调、低对比、带灰感的颜色，深棕色偏暖、偏重，压暗肤色。"
    },
    "material": {
      "clothing_material": "皮革（Leather）",
      "recommended_materials": ["莫代尔", "亚麻", "羊绒", "精纺毛织物"],
      "fit": "不适合",
      "reason": "皮革质地硬挺、光泽强，与冷夏型推荐的柔和、哑光、飘逸质地相冲突。"
    },
    "style": {
      "clothing_style": "Retro / Minimalism，Oversized",
      "person_energy": "自洽自律，沉稳优雅，适合柔软飘逸",
      "fit": "不适合",
      "reason": "Oversized皮革西装偏硬朗、复古，弱化冷夏型沉稳优雅的特质，仅Minimalism部分有部分契合。"
    },
    "pairing": {
      "clothing_suggestions": [
        "高领针织衫 + 西裤",
        "白衬衫 + 牛仔裤",
        "叠穿帽衫"
      ],
      "fit": "部分可调和",
      "reason": "若内搭使用冷夏型色彩（如雾霾蓝、冷灰），可一定程度缓和冲突，但仍非最佳选择。"
    },
    "season": {
      "clothing_season": "秋冬",
      "recommended_for_person": ["羊绒", "精纺毛织物"],
      "fit": "不完全适合",
      "reason": "Leather 在秋冬可穿，但质感偏硬，不符冷夏型的低调奢华与柔和气质。"
    }
  },
  "recommendations": {
    "better_colors": ["冷灰", "煤灰", "石板蓝", "柔黑蓝"],
    "better_materials": ["精纺羊毛", "哑光羊绒", "轻薄呢料"],
    "better_styles": ["极简", "静奢老钱风", "柔和线条西装外套"]
  }
}
```

### 评分规则说明：
suitability_score采用1-5分制，评分依据如下：
- **5分**：颜色、材质、风格三个维度都匹配用户季型和能量特征
- **4分**：三个维度中有两个匹配
- **3分**：三个维度中有一个匹配  
- **2分**：三个维度都不匹配（最低分，不出现1分）

### 单品分析报告页面渲染布局：

基于上述JSON格式，页面布局设计如下：

```
【页面顶部】
总体适配度 ⭐⭐⭐⭐⭐ (suitability_score显示为星级)
整体结论文字 (overall_evaluation.conclusion)

【详细分析部分】
🎨 颜色分析
  - 衣物颜色 vs 您的季型
  - 适配判断 + 原因说明

🧵 材质分析  
  - 衣物材质 vs 推荐材质
  - 适配判断 + 原因说明

💫 风格分析
  - 衣物风格 vs 您的能量类型  
  - 适配判断 + 原因说明

👔 搭配建议
  - 具体搭配方案列表
  - 适配度 + 理由

🌟 更好的选择
  - 推荐颜色/材质/风格（三个标签云式展示）
```

### 数据存储方案：
**历史记录存储**（考虑到抖音小程序10MB本地存储限制）：
- 只保存分析结果JSON（约2-3KB每次）
- 保存压缩后的缩略图（50x50px，约5-10KB每张）
- 保存上传时间戳和衣物基本信息
- 最多保存5次历史记录，超出时自动删除最早的

### 20张样例图片配置：
- 存放位置：`/assets/images/sample-clothes/`（项目根目录下）
- 图片规格：300x400px，JPG格式，30-50KB每张
- 背景：纯白色或浅灰色，突出衣物细节
- 文件命名：`sample-1.jpg` 到 `sample-20.jpg`

在页面底下有"历史单品建议"按钮和"再次上传"按钮：

**历史单品建议界面**：
- 以卡片形式展示最近5次分析记录
- 每张卡片包含：缩略图、分析时间、适配度评分、衣物基本信息
- 点击卡片可查看完整分析报告
- 每张卡片右上角有删除按钮，支持单独删除历史记录

**再次上传**：
- 返回照片上传界面，用户可以继续上传新的衣物照片进行分析
